# mysql

E-R图：实体关系图，每个表都是一个实体，关系就是：表与表之间的关系

数据库有两种含义：1.mysql这个数据库，这个软件，2.mysql中的某一个库，库中可以有很多表，一般来说，一个项目对应一个库

普罗米修斯，  监控。每个多长时间 进行一次记录，打点等。 监控就会用，每个多长时间，采集一次，并且采集的数据基本不会变。而其他的再根据数据进行二次处理，也是根据时间这个维度的。

银行的核心和保险的核心很像

mongodb：文档数据库

mysql5.7已经支持jsonb了

给一个几千万数据的表 加索引：时间在30-40分钟

mysql8.0中 不再对group by 进行隐式的排序 之前 group by  会自动 添加一个 group by中相同字段的 order by

DDL操作都会锁标。

导出数据的时候好像也会锁表

- 插锁和其他所有的锁都冲突

  ![image-20210224203313562](D:\my_study\my_study\picture\image-20210224203313562.png)

锁的兼容性

死锁就是一个环，如果我们每个拿锁的程序都有一个超时时间，只要过了这个超时时间，就会泡坏这个环（因为它会释放资源），也就打破了死锁。所以设置超时时间很重要。